{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/khalednached/Downloads/apps/mortgage/src/Chart.js\";\n\nimport React, { useEffect, useRef } from 'react';\nimport { select } from 'd3-selection';\nimport { line } from 'd3-shape';\nimport { scaleLinear } from 'd3-scale';\nimport { axisBottom, axisLeft } from 'd3-axis';\nimport 'd3-transition';\nvar margin = {\n  top: 20,\n  right: 20,\n  bottom: 20,\n  left: 80\n},\n    fullWidth = 800,\n    fullHeight = 300,\n    width = fullWidth - margin.left - margin.right,\n    height = fullHeight - margin.top - margin.bottom;\nvar x = scaleLinear().range([0, width]);\nvar y = scaleLinear().range([0, height]);\nvar actual = line().x(function (d, i) {\n  return x(i + (d.partial / 12 || 1) - 1);\n}).y(function (d) {\n  return y(d.balance);\n});\nvar baseline = line().x(function (d, i) {\n  return x(i);\n}).y(function (d) {\n  return y(d.baseline);\n});\nexport default (function (_ref) {\n  var payments = _ref.payments;\n  var chart = useRef(null);\n  useEffect(function () {\n    var chartEl = select(chart.current);\n    x.domain([0, payments.length - 1]);\n    y.domain([payments[0].balance, 0]);\n    chartEl.select('.x').call(axisBottom(x).ticks(Math.min(payments.length, 30)));\n    chartEl.select('.y').call(axisLeft(y));\n    chartEl.select('.baseline').transition().attr('d', baseline(payments));\n    chartEl.select('.actual').transition().attr('d', actual(payments));\n  }, [payments]);\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    ref: chart,\n    height: \"100%\",\n    width: \"100%\",\n    viewBox: \"0 0 \".concat(fullWidth, \" \").concat(fullHeight),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(\".concat(margin.left, \",\").concat(margin.top, \")\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    className: \"axis x\",\n    transform: \"translate(0, \".concat(height, \")\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    className: \"axis y\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"line baseline\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"line actual\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  })));\n});","map":{"version":3,"names":["React","useEffect","useRef","select","line","scaleLinear","axisBottom","axisLeft","margin","top","right","bottom","left","fullWidth","fullHeight","width","height","x","range","y","actual","d","i","partial","balance","baseline","payments","chart","chartEl","current","domain","length","call","ticks","Math","min","transition","attr"],"sources":["/Users/khalednached/Downloads/apps/mortgage/src/Chart.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\n\nimport { select } from 'd3-selection';\nimport { line } from 'd3-shape';\nimport { scaleLinear } from 'd3-scale';\nimport { axisBottom, axisLeft } from 'd3-axis';\nimport 'd3-transition';\n\nconst margin = { top: 20, right: 20, bottom: 20, left: 80 },\n  fullWidth = 800,\n  fullHeight = 300,\n  width = fullWidth - margin.left - margin.right,\n  height = fullHeight - margin.top - margin.bottom;\n\nconst x = scaleLinear().range([0, width]);\n\nconst y = scaleLinear().range([0, height]);\n\nconst actual = line()\n  .x((d, i) => x(i + (d.partial / 12 || 1) - 1))\n  .y(d => y(d.balance));\n\nconst baseline = line()\n  .x((d, i) => x(i))\n  .y(d => y(d.baseline));\n\nexport default ({ payments }) => {\n  const chart = useRef(null);\n\n  useEffect(() => {\n    const chartEl = select(chart.current);\n    x.domain([0, payments.length - 1]);\n    y.domain([payments[0].balance, 0]);\n\n    chartEl\n      .select('.x')\n      .call(axisBottom(x).ticks(Math.min(payments.length, 30)));\n\n    chartEl.select('.y').call(axisLeft(y));\n\n    chartEl\n      .select('.baseline')\n      .transition()\n      .attr('d', baseline(payments));\n\n    chartEl\n      .select('.actual')\n      .transition()\n      .attr('d', actual(payments));\n  }, [payments]);\n\n  return (\n    <svg\n      ref={chart}\n      height=\"100%\"\n      width=\"100%\"\n      viewBox={`0 0 ${fullWidth} ${fullHeight}`}\n    >\n      <g transform={`translate(${margin.left},${margin.top})`}>\n        <g className=\"axis x\" transform={`translate(0, ${height})`} />\n        <g className=\"axis y\" />\n        <path className=\"line baseline\" />\n        <path className=\"line actual\" />\n      </g>\n    </svg>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}